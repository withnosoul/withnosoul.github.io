(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{325:function(t,s,v){t.exports=v.p+"assets/img/browser-render.0c389301.png"},360:function(t,s,v){"use strict";v.r(s);var r=v(6),e=Object(r.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"浏览器渲染过程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#浏览器渲染过程"}},[t._v("#")]),t._v(" 浏览器渲染过程")]),t._v(" "),s("ol",[s("li",[t._v("解析HTML、生成DOM树；解析CSS，生成CSSOM树")]),t._v(" "),s("li",[t._v("将DOM树和CSSOM树结合，生成渲染树（Render Tree）")]),t._v(" "),s("li",[t._v("Layout（回流）：根据生成的渲染树，进行回流，得到节点的几何信息（位置、大小）")]),t._v(" "),s("li",[t._v("Repaint（重绘）：根据渲染树依据回流得到的几何信息，得到节点的绝对像素")]),t._v(" "),s("li",[t._v("Display：将像素发给GPU，展示在页面上")])]),t._v(" "),s("div",{staticClass:"center-container"},[s("p",[s("img",{attrs:{src:v(325),alt:"img"}})])]),s("p",[s("a",{attrs:{href:"https://github.com/chenjigeng/blog/issues/4",target:"_blank",rel:"noopener noreferrer"}},[t._v("你真的了解回流和重绘吗？"),s("OutboundLink")],1)]),t._v(" "),s("h3",{attrs:{id:"回流"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#回流"}},[t._v("#")]),t._v(" 回流")]),t._v(" "),s("p",[t._v("前面我们通过构造渲染树，我们将可见DOM节点以及它对应的样式结合起来， 可是我们还需要计算它们在设备视口（viewport）内的确切位置和大小， 这个计算的阶段就是回流")]),t._v(" "),s("h3",{attrs:{id:"重绘"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#重绘"}},[t._v("#")]),t._v(" 重绘")]),t._v(" "),s("p",[t._v("通过构造渲染树和回流，我们知道了哪些节点是可见的，以及可见节点的样式和具体的几何信息（位置、大小）， 那么我们就可以将渲染树的每个节点都转换位屏幕上的实际像素，这个阶段叫做重绘节点。")]),t._v(" "),s("p",[s("strong",[t._v("何时发生回流重绘")])]),t._v(" "),s("p",[t._v("前面我们知道，回流这一阶段主要是计算接待你的位置和几何信息，那么当页面布局和几何信息发生变化的时候，就需要回流。 比如一下情况：")]),t._v(" "),s("ol",[s("li",[t._v("页面一开始渲染的时候（这必然的）")]),t._v(" "),s("li",[t._v("添加或删除可见的DOM元素")]),t._v(" "),s("li",[t._v("元素的位置发生变化")]),t._v(" "),s("li",[t._v("元素的尺寸发生变化（包括外边距、内边距、边框大小、高度和宽度等）")]),t._v(" "),s("li",[t._v("内容发生变化，比如文本变化或图片被另一个不同尺寸的图片所替代")]),t._v(" "),s("li",[t._v("浏览器的窗口尺寸变化（因为回流是根据视口的大小来计算元素的位置和大小的）")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),s("p",[t._v("回流一定会触发重绘，而重绘不一定会回流。")])])])}),[],!1,null,null,null);s.default=e.exports}}]);